<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>이미지 여러장 for문으로 가져오기</title>
    <script src="../jQuery/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css">
    <style>
        img{
            width: 100px;
        }
    </style>
</head>
<body class="p-5">
    <h2>사진 다중 업로드</h2>
    <label>사진선택</label>
    <input type="file" id="setImage" accept="image/*" multiple>
    <!--input에서 가져온 이미지를 미리보기로 보여줌-->
    <!--다중 이미지를 여러장 담을 수 있는 div태그 활용-->
    <div id="getImage">
        
    </div>
    <script>
        $(document).ready(function(){
            $("#setImage").change(function(){
                const files = this.files;

                $("#getImage").empty();
                //기존에 선택된 이미지가 존재한다면 새로 선택한 이미지를 가져옴

                if(files){
                    for(let i = 0; i<files.length; i++){
                        const file = files[i];
                        const 파일읽기 = new FileReader();

                        파일읽기.onload = function(e){
                            //div 안에서 img 태그를 생성할 준비 시작
                            //                               생성된(가져온) 이미지 src 주소결과 보여주기
                            const 이미지태그생성 =  $('<img>').attr('src', e.target.result)
                            $("#getImage").append(이미지태그생성);
                        }
                        파일읽기.readAsDataURL(file);//최종 이미지 출력
                    }
                }
            })
        })
    </script>
</body>
</html>